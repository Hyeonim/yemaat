<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org/"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{owner/myPage_layout}">

<th:block th:fragment="content">
    <div class="formDiv">
        <form id="addRestForm" th:action="@{/owner/addRest}" method="post" enctype="multipart/form-data">
            <p><label>가게 이름  </label><input type="text" name="restName"></p>
            <p><label>가게 주소  </label><input type="text" name="restAddr"></p>
            <p><label>가게 번호  </label><input type="text" name="restTel"></p>
            <p><label>가게 좌석수  </label><input type="text" name="restSeat"></p>
            <p><label>가게 이용시간  </label><input type="text" name="restTime"></p>
            <p><label>가게 휴뮤일  </label><input type="text" name="restOffDays"></p>
            <p><label>가게 주차장  </label><input type="text" name="restParking"></p>
            <p><label>가게 메뉴  </label><input type="text" placeholder="가게 등록 후 상세보기 화면에서 추가 가능" readonly></p>
            <p><label>가게 업태  </label><input type="text" name="restCategory"></p>
            <p><label>가게 위도  </label><input type="text" name="restLatitude"></p>
            <p><label>가게 경도  </label><input type="text" name="restLongitude"></p>
            <p><label>가게 소개글  </label><textarea name="restDescription" rows="5"></textarea> </p>
            <p><label>대표 이미지  </label><input type="file" name="file" id="file"></p>
            <p><label></label><img id="preview" src="/img/no_image.png" alt="Rest Image"></p>
            <input type="button" value="등록" onclick="submitRestForm()">
            <input type="button" value="취소" onclick="location.href='/owner/home'">
        </form>
    </div>

<script>
    function submitRestForm() {
        if (confirm("등록하시겠습니까?")) {
            let form = document.getElementById("addRestForm");
            form.submit();
        }
    }

    function previewImage(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                document.getElementById('preview').setAttribute('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    document.getElementById('file').addEventListener('change', function () {
        previewImage(this);
    });
</script>

</th:block>
</html>