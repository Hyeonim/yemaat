<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultrag.net.nz/thymeleaf/layout">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link th:href="@{/css/managerPage/managerPage.css}" rel="stylesheet">
<!--<script src="/css/managerPage/managerPage.js"></script>-->
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>


<div id="main">

    <div th:replace="~{/managerPage/managerPage_sidebar::managerSide}">

    </div>
    <div th:include="${page}::managerContent">

    </div>

</div>

<script>
    function previewImage(input) {
        var preview = document.getElementById('preview');

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                preview.src = e.target.result;
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
<script th:inline="javascript">
    var userAddButton = document.getElementById('userAddButton');
    //추가버튼
    if (userAddButton)
        userAddButton.addEventListener('click', function () {
            window.location.href = '/manager/managerPage_UAdd';
        });

    //디테일로 이동 버튼
    function redirectToUserUpdate(userNo) {
        window.location.href = '/manager/managerPage_UDetail?userNo=' + userNo;
    }



    var userDelButton = document.getElementById('UDel');


    function confirmBlack(my) {
        let confirmation = confirm("블랙을 푸시겠습니까?");
        let form = document.getElementById("blackForm");
        let confirmInput = my.parentNode.querySelector("input[name=confirm]");
        confirmInput.value = confirmation;

        form.submit();

    }

    // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡqaㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ



    function redirectToQA(id) {
        window.location.href = '/manager/managerPage_QAAnswer?id=' + id;
    }

    // ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ공지사항ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

    //디테일로 이동 버튼
    function redirectToNoticeDetail(id) {
        window.location.href = '/manager/managerPage_NoticeDetail?id=' + id;
    }

    var noticeAddBtn = document.getElementById('noticeAdd');
    //추가버튼
    if (noticeAddBtn)
        noticeAddBtn.addEventListener('click', function () {
            window.location.href = '/manager/managerPage_NoticeAdd';
        });




    //------------------------------점주-------------------------------


    var jumAddButton = document.getElementById('JumAddButton');

    if (jumAddButton)
        jumAddButton.addEventListener('click', function () {

            window.location.href = 'managerPage_JAdd';
        });

    function redirectToJumDetail(restNo) {
        window.location.href = '/manager/managerPage_JDetail?userNo=' + restNo;
    }

    function redirectToJumrestDetail(restNo) {
        window.location.href = '/manager/managerPage_JrestDetail?restNo=' + restNo;
    }




    // function searchDinning() {
    //     // 입력 필드에서 입력된 값을 가져옴
    //     var keyword = document.getElementById("searchInput").value.toUpperCase();
    //
    //     // 검색어를 컨트롤러로 전달하고 해당하는 가게 목록을 가져옴
    //     fetch("/manager/managerPage_JrestInfo?keyword=" + keyword)
    //         .then(response => response.json())
    //         .then(data => {
    //             // 가져온 가게 목록을 테이블에 표시
    //             displayDinningList(data);
    //         })
    //         .catch(error => console.error('Error fetching dinning list:', error));
    // }


    function searchDinning() {
        let searchInput = document.getElementById("searchInput").value;
        // AJAX를 통해 검색어를 서버로 전송
        // var xhr = new XMLHttpRequest();
        // xhr.open("GET", "/manager/managerPage_JrestInfo?searchInput=" + searchInput, true);
        // xhr.onreadystatechange = function () {
        //     if (xhr.readyState == 4 && xhr.status == 200) {
        //         // 검색 결과를 받아와서 페이지에 표시
        //         document.getElementById("dinningTable").innerHTML = xhr.responseText;
        //     }
        // };
        // xhr.send();
        gv = [];
        fetch("/manager/managerPage_JrestInfo?searchInput=" + searchInput)
            .then(resp => resp.text())
            .then(data => {
                let doc = new DOMParser().parseFromString(data, 'text/html');
                document.getElementById("dinningTable").innerHTML = doc.getElementById("dinningTable").innerHTML
        });
    }






</script>

</body>
</html>